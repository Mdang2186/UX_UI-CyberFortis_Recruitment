/* ===================== THEME – Navy → Blue → Mint Pastel ================== */
:root{
  /* Brand palette */
  --navy:#18356E;
  --blue-600:#2F63D8;  /* primary */
  --blue-500:#3E73FF;
  --blue-300:#89B2FF;
  --blue-100:#E6EEFF;

  --mint-600:#17B890;
  --mint-400:#6FD6C6;
  --mint-200:#CFF6EA;

  /* Neutrals */
  --ink-900:#1f2937;
  --ink-700:#374151;
  --ink-500:#6b7280;

  /* Borders / surfaces */
  --border:#e5e7eb;
  --panel:#ffffff;

  /* Helpers */
  --blue-600-10: rgba(47,99,216,.10);
  --blue-600-12: rgba(47,99,216,.12);
  --blue-600-20: rgba(47,99,216,.20);

  --header-h:64px;
  --sidebar-w:250px;
  --sidebar-wc:80px;
}
/* ========== TABLE LOOK & FEEL ========== */
.cf-table { border-collapse: separate; border-spacing: 0; font-size: 14px; }
.cf-table thead th { background: #fff; position: sticky; top: 0; z-index: 5; }
.cf-table thead { box-shadow: inset 0 -1px 0 rgba(0,0,0,.06); }
.cf-table tbody tr { transition: background-color .15s ease, box-shadow .15s ease; }
.cf-table tbody tr.hover-row:hover { background: #f8fafc; }

/* zebra nhẹ cho khả năng quét mắt */
.cf-table tbody tr:nth-child(odd) { background: #fcfcfd; }
.cf-table tbody tr.hover-row:hover { background: #f1f5f9; }

/* Sticky first 2 columns — KHÔNG đụng HTML */
.cf-table th:first-child, .cf-table td:first-child { width: 56px; }
.table-sticky thead th:first-child,
.table-sticky tbody td:first-child {
  position: sticky; left: 0; z-index: 6; background:#fff;
  box-shadow: inset -1px 0 0 #e5e7eb;
}
.table-sticky thead th:nth-child(2),
.table-sticky tbody td:nth-child(2) {
  position: sticky; left: 56px; z-index: 5; background:#fff;
  box-shadow: inset -1px 0 0 #e5e7eb;
}

/* Hành động chỉ hiện khi hover dòng */
.row-actions { opacity: 0; transition: opacity .15s ease; }
tr.group:hover .row-actions { opacity: 1; }

/* Chip trạng thái (nếu chưa có) */
.status-chip { padding: 3px 10px; border-radius: 999px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap:6px;}
.status-chip::before { content: ""; width:8px; height:8px; border-radius: 999px; display:inline-block; }
.status-pv1 { color:#0369a1; background:#e0f2fe; }
.status-pv1::before { background:#0284c7; }
.status-pv2 { color:#0e7490; background:#cffafe; }
.status-pv2::before { background:#06b6d4; }
.status-da-tuyen { color:#047857; background:#d1fae5; }
.status-da-tuyen::before { background:#10b981; }

/* Scrollbar đẹp cho vùng cuộn dọc đã có class .table-scroll */
.table-scroll { scrollbar-width: thin; scrollbar-color:#cbd5e1 transparent; }
.table-scroll::-webkit-scrollbar{ width:8px; height:8px; }
.table-scroll::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:8px; }
.table-scroll:hover::-webkit-scrollbar-thumb{ background:#94a3b8; }

/* Header sort icon bằng CSS (không thêm SVG) */
.cf-table thead th.sortable { position: sticky; cursor: pointer; color:#475569; }
.cf-table thead th.sortable::after {
  content:""; display:inline-block; margin-left:6px; width:8px; height:12px;
  -webkit-mask: linear-gradient(#000 0 0) center/8px 12px no-repeat;
          mask: linear-gradient(#000 0 0) center/8px 12px no-repeat;
  background:#cbd5e1;
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M4 6l4-4 4 4H4zm8 4l-4 4-4-4h8z'/%3E%3C/svg%3E");
          mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M4 6l4-4 4 4H4zm8 4l-4 4-4-4h8z'/%3E%3C/svg%3E");
}
.cf-table thead th.sort-asc::after  { background:#2563eb; transform: rotate(180deg); }
.cf-table thead th.sort-desc::after { background:#2563eb; }

/* Khi chọn checkbox → highlight cả dòng (CSS :has, trình duyệt mới) */
.cf-table tbody tr:has(td:first-child input:checked) { background:#eff6ff; box-shadow: inset 0 0 0 2px #bfdbfe; }

/* ============================= LAYOUT CORE ================================ */
.app-header{
  position:fixed; inset:0 0 auto 0; height:var(--header-h);
  background:var(--panel); border-bottom:1px solid var(--border); z-index:60;
}
.sidebar{
  position:fixed; top:0; left:0; height:100vh; z-index:50;
  width:var(--sidebar-w); background:var(--panel); border-right:1px solid var(--border);
  transition:width .25s ease;
}
.sidebar.sidebar-collapsed{ width:var(--sidebar-wc); }
.main-content{
  margin-top:var(--header-h); margin-left:var(--sidebar-w);
  min-height:calc(100vh - var(--header-h)); transition:margin-left .25s ease;
}
.main-content.main-content-collapsed{ margin-left:var(--sidebar-wc); }
 
/* ============================== COMPONENTS ================================ */
.card{
  background:var(--panel); border:1px solid var(--border);
  border-radius:16px; padding:20px;
  box-shadow:0 10px 30px -12px rgba(0,0,0,.12);
}
.badge-blue{
  background:var(--blue-100); color:var(--blue-600);
  padding:.25rem .5rem; border-radius:999px; font-weight:600; font-size:.825rem;
}

/* Table – scroll & sticky head */
.table-scroll{ max-height:520px; overflow:auto; border:1px solid var(--border); border-radius:14px; }
.table-scroll::-webkit-scrollbar{ height:8px; width:8px; }
.table-scroll::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:6px; }
.table-scroll::-webkit-scrollbar-thumb:hover{ background:#94a3b8; }

.table-head{ position:sticky; top:0; z-index:1; background:#f8fafc; }
.table-head th{
  text-transform:uppercase; font-size:.72rem; letter-spacing:.03em;
  color:var(--ink-500); text-align:left; padding:.75rem 1rem; white-space:nowrap;
  border-bottom:1px solid var(--border);
}
tbody td{ padding:.75rem 1rem; }

/* Hover hàng */
.row-hover:hover{ background:var(--blue-100); }

/* Chip trạng thái (giữ semantics) */
.chip{ display:inline-block; padding:.25rem .5rem; border-radius:999px; font-size:.72rem; font-weight:600; }
.chip-blue{ background:var(--blue-100); color:var(--blue-600); }
.chip-yellow{ background:#fef3c7; color:#b45309; }

/* Avatar nhỏ ô bảng */
.avatar-pill{
  width:28px; height:28px; border-radius:999px; color:#fff;
  display:flex; align-items:center; justify-content:center; font-size:.75rem; font-weight:700;
  background:linear-gradient(135deg,var(--blue-600),var(--blue-500));
}

/* Nút icon gọn */
.btn-icon{
  width:32px; height:32px; display:inline-grid; place-items:center;
  border:1px solid var(--border); background:var(--panel); border-radius:10px;
}
.btn-icon:hover{ background:#f8fafc; }

/* Filter button & dropdown */
.filter-btn{
  padding:.75rem 1rem; background:var(--panel); color:var(--ink-700);
  border:1px solid var(--border); border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,.04);
  transition:background .15s ease;
}
.filter-btn:hover{ background:#f8fafc; }
.filter-dropdown{
  position:absolute; top:100%; left:0; min-width:220px;
  background:var(--panel); border:1px solid var(--border); border-radius:12px;
  box-shadow:0 20px 40px -8px rgba(0,0,0,.15);
  opacity:0; visibility:hidden; transform:translateY(6px);
  transition:all .18s ease; z-index:40; max-height:240px; overflow:auto;
}
.filter-dropdown.show{ opacity:1; visibility:visible; transform:translateY(0); }
.filter-opt{ display:flex; align-items:center; gap:.5rem; padding:.5rem; border-radius:8px; font-size:.9rem; color:var(--ink-700); }
.filter-opt input{ accent-color:var(--blue-600); }
.filter-opt:hover{ background:#f8fafc; }

/* ============================ SIDEBAR ENHANCE ============================= */
 /* Hàng bộ lọc ngang + ẩn scrollbar gọn gàng */
.filters-row::-webkit-scrollbar{ height:8px }
.filters-row::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:8px }
.filters-row{ scrollbar-width:thin; scrollbar-color:#cbd5e1 transparent }

/* Đảm bảo các mục không co méo khi hẹp */
.filter-item{ flex:0 0 auto }
/* Hàng ngang + scrollbar gọn */
.adv-filters .filters-row{ scrollbar-width:thin; scrollbar-color:#cbd5e1 transparent; }
.adv-filters .filters-row::-webkit-scrollbar{ height:8px }
.adv-filters .filters-row::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:8px }
.adv-filters .filter-item{ flex:0 0 auto }

/* Control (input/select) đồng bộ */
.adv-filters .control{
  width:100%; padding:.6rem .8rem; font-size:.9rem;
  background:#fff; border:1px solid #e5e7eb; border-radius:10px;
  transition:border-color .15s ease, box-shadow .15s ease;
}
.adv-filters .control:hover{ border-color:#d1d5db; }
.adv-filters .control:focus{
  outline:0; border-color:#2F63D8;
  box-shadow:0 0 0 3px rgba(47,99,216,.18);
}

/* Cụm action sticky bên phải, làm mờ nhẹ nền dưới để tách */
.adv-filters .filters-actions{
  background: linear-gradient(90deg, rgba(255,255,255,.92) 0%, rgba(255,255,255,.86) 60%, rgba(255,255,255,0) 100%);
  backdrop-filter: blur(6px);
  border-left: 1px solid #eef2f7;
  border-top-left-radius: 12px;
  border-bottom-left-radius: 12px;
}

/* Buttons */
.btn-primary{
  padding:.65rem 1rem; border-radius:12px; color:#fff; font-weight:700; white-space:nowrap;
  background: linear-gradient(135deg,#2F63D8 0%, #17B890 100%);
  box-shadow:0 10px 24px -12px rgba(47,99,216,.55);
  transition: transform .12s ease, filter .12s ease;
}
.btn-primary:hover{ filter:brightness(1.03); transform: translateY(-1px); }

.btn-add{
  padding:.65rem 1rem; border-radius:12px; color:#0f172a; font-weight:700; white-space:nowrap;
  background:#ffffff; border:1px solid #e5e7eb;
  transition: background .12s ease, transform .12s ease, border-color .12s ease;
}
.btn-add:hover{ background:#f8fafc; border-color:#d1d5db; transform: translateY(-1px); }

/* Kết quả nhỏ */
.result-note{ line-height:1.2; }

.sidebar-collapsed-avatar{ display:none; }
.sidebar.collapsed .sidebar-collapsed-avatar{ display:flex; justify-content:center; padding:16px; }
.sidebar.collapsed .sidebar-expanded-user{ display:none; }
.sidebar-item{ transition:.2s ease; } 
/* Cards hover nhẹ */
.kpi-card{ transition:transform .2s ease; }
.kpi-card:hover{ transform:translateY(-2px); }

/* Header dropdown */
.header-dropdown{ z-index:1000; }

/* Table container scroll */
.table-container{ max-height:600px; overflow:auto; }
.table-container::-webkit-scrollbar{ width:6px; height:6px; }
.table-container::-webkit-scrollbar-track{ background:#f1f5f9; border-radius:3px; }
.table-container::-webkit-scrollbar-thumb{ background:#ffffff; border-radius:3px; }
.table-container::-webkit-scrollbar-thumb:hover{ background:#94a3b8; }

/* Drawer */
.drawer{ position:fixed; top:0; right:-500px; width:500px; height:100vh; background:#fff;
  box-shadow:-10px 0 25px rgba(0,0,0,.1); transition:right .3s ease; z-index:1000; overflow-y:auto; }
.drawer.open{ right:0; }
.drawer-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.5); opacity:0; visibility:hidden; transition:.3s ease; z-index:999; }
.drawer-overlay.open{ opacity:1; visibility:visible; }

/* Status chips (giữ màu semantics, nhưng dùng palette brand nơi phù hợp) */
.status-chip{ padding:4px 12px; border-radius:20px; font-size:12px; font-weight:500; }
.status-moi{ background:var(--blue-100); color:var(--blue-600); }
.status-pv1{ background:#fef3c7; color:#d97706; }
.status-pv2{ background:#fed7aa; color:#ea580c; }
.status-da-tuyen{ background:#d1fae5; color:#059669; }
.status-truot{ background:#fee2e2; color:#dc2626; }

/* Utility layout bits from original */
.grid{ display:grid; gap:1rem; }
.grid-cols-3{ grid-template-columns:repeat(3,1fr); }
.relative{ position:relative; }
.h-48{ height:12rem; }
.bg-white{ background-color:#ffffff; }
.rounded-xl{ border-radius:.75rem; }
.shadow-md{ box-shadow:0 4px 6px -1px rgba(0,0,0,.1), 0 2px 4px -1px rgba(0,0,0,.06); }
.border{ border-width:1px; }
.border-gray-200{ border-color:#e5e7eb; }
.text-md{ font-size:1rem; }
.font-bold{ font-weight:700; }
.text-gray-800{ color:#1f2937; }
.text-gray-600{ color:#4b5563; }
.w-2{ width:.5rem; }
.h-2{ height:.5rem; }
.rounded-full{ border-radius:9999px; }
/* Nút primary cho "Thêm ứng viên" */
.btn-add-solid{
  padding:.65rem 1rem; border-radius:12px; color:#fff; font-weight:700; white-space:nowrap;
  background:linear-gradient(135deg,#2F63D8 0%, #17B890 100%);
  box-shadow:0 10px 24px -12px rgba(47,99,216,.55);
  transition:transform .12s ease, filter .12s ease;
}
.btn-add-solid:hover{ filter:brightness(1.05); transform:translateY(-1px); }

/* Nút secondary cho "Đặt lại" */
.btn-reset{
  padding:.65rem 1rem; border-radius:12px; color:#334155; font-weight:700; white-space:nowrap;
  background:#fff; border:1px solid #e5e7eb;
  transition:background .12s ease, transform .12s ease, border-color .12s ease;
}
.btn-reset:hover{ background:#f8fafc; border-color:#d1d5db; transform:translateY(-1px); }

/* Dòng kết quả bên dưới */
.result-note{ line-height:1.2; }
/* Root portal – không chặn click nền */
#ui-portal-root{
  position: fixed;
  inset: 0;
  pointer-events: none;
  isolation: isolate; /* tạo stacking context độc lập */
}

/* Dropdown khi ở trong portal */
#ui-portal-root .portal-item{
  position: absolute;   /* JS sẽ set left/top */
  pointer-events: auto; /* nhận click bình thường */
}

/* Bảo hiểm: nếu style cũ có z-index thấp */
#userDropdown{
  opacity: 0; visibility: hidden; transform: translateY(-4px);
  transition: opacity .15s ease, transform .15s ease;
}
#userDropdown.show{
  opacity: 1; visibility: visible; transform: translateY(0);
}

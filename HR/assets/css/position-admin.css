/* =============== Đồng bộ Navi → Green Pastel, bỏ khung chart =============== */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
:root{
  --navy-800:#1E3A8A; --navy-600:#2563EB; --blue-500:#3B82F6; --blue-300:#93C5FD;
  --teal-300:#6EE7B7; --green-300:#A7F3D0; --green-500:#10B981;
  --ink-900:#0F172A; --ink-700:#374151; --ink-500:#6B7280;
  --panel:#FFFFFF; --border:#E5E7EB;
  --header-h:64px; --sidebar-w:256px; --sidebar-wc:84px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family:'Inter',ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  color:var(--ink-900); background:#F8FAFC;
}

.main-content{ margin-left:var(--sidebar-w); margin-top:var(--header-h); min-height:calc(100vh - var(--header-h)); transition:margin-left .3s }
.main-content.main-content-collapsed{ margin-left:var(--sidebar-wc) }

/* KPI cards */
.kpi-card{ background:#fff; border:1px solid var(--border); border-radius:16px; padding:20px; transition:border-color .2s, transform .2s }
.kpi-card:hover{ transform:translateY(-1px); border-color:rgba(37,99,235,.25) }
.kpi-num{ font-size:1.75rem; font-weight:800; color:#0f172a }

/* Card chung */
.card{ background:#fff; border:1px solid var(--border); border-radius:16px; padding:20px }
.card-title{ font-size:1.05rem; font-weight:800; color:#0f172a }

/* Chart container: no frame */
.chart-container{ position:relative; height:300px; background:transparent; border:none; box-shadow:none; padding:0 }
.chart-container canvas{ display:block!important; width:100%!important; height:100%!important }

/* Funnel boxes vẫn dùng gradient nội bộ (nếu bạn đang có) */
.funnel-box{ color:#fff; padding:20px; border-radius:14px; min-width:192px; text-align:center;
  background-image:linear-gradient(to bottom right, var(--navy-600), var(--green-300)); }

/* Dropdown đẹp & rõ */
.filter-wrap{ position:relative }
.filter-dropdown{
  position:absolute; top:100%; left:0; z-index:40; width:280px;
  background:#fff; border:1px solid #e5e7eb; border-radius:10px; box-shadow:0 12px 32px rgba(2,6,23,.15);
  padding:8px; margin-top:8px; opacity:0; visibility:hidden; transform:translateY(-6px); transition:all .16s;
}
.filter-dropdown.show{ opacity:1; visibility:visible; transform:translateY(0) }
.filter-opt{ display:flex; align-items:center; gap:8px; padding:8px; border-radius:8px; cursor:pointer; font-weight:600; color:#334155 }
.filter-opt:hover{ background:#F1F5F9 }

.btn{ display:inline-flex; align-items:center; gap:8px; padding:8px 14px; border-radius:10px; border:1px solid var(--border); background:#fff; color:#374151; transition:.18s }
.btn:hover{ border-color:var(--navy-600); color:var(--navy-600); background:#EEF2FF }
/* ===== Position Detail Modal (scoped) ===== */
#positionDetail.modal {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: none;                 /* Ẩn mặc định */
  align-items: center;
  justify-content: center;
  padding: 24px;
  background: rgba(15, 23, 42, 0.55); /* slate-900/55 */
  backdrop-filter: blur(2px);
  opacity: 0;
  visibility: hidden;
  transition: opacity .2s ease, visibility .2s ease;
}

#positionDetail.modal.show {
  display: flex;                 /* Chỉ hiện khi có .show */
  opacity: 1;
  visibility: visible;
}

/* Hộp nội dung */
#positionDetail .modal-content {
  width: min(960px, 96vw);
  max-height: 90vh;
  overflow: auto;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 25px 60px rgba(2, 6, 23, .25), 0 8px 20px rgba(2, 6, 23, .15);
  transform: translateY(10px) scale(.98);
  transition: transform .2s ease, opacity .2s ease;
}

#positionDetail.modal.show .modal-content {
  transform: translateY(0) scale(1);
}

/* Nút đóng (tùy chọn) */
#positionDetail .modal-close {
  position: absolute;
  top: 10px; right: 12px;
  padding: 8px;
  border-radius: 10px;
} 
/* Khóa scroll nền khi mở modal */
body.modal-open {
  overflow: hidden;
}

/* (Tuỳ chọn) tinh chỉnh input trong modal cho đồng nhất */
#positionDetail .form-input,
#positionDetail input,
#positionDetail select,
#positionDetail textarea {
  outline: none;
}

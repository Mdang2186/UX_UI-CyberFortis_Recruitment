/* =========================================================
   NhanVien-Admin – CSS tối ưu (Pastel Blue → Green)
   ========================================================= */

/* ---- Tokens ---- */
:root{
  --blue-50:#eff6ff; --blue-100:#dbeafe; --blue-300:#93c5fd; --blue-400:#60a5fa; --blue-600:#2563eb;
  --green-50:#ecfdf5; --green-100:#d1fae5; --green-400:#34d399; --green-600:#059669;
  --ink:#0f172a; --muted:#64748b; --white:#fff; --border:#e5e7eb;
  --radius:16px; --radius-sm:12px;
  --shadow-1:0 10px 24px rgba(2,6,23,.06);
  --ease:cubic-bezier(.4,0,.2,1);

  /* Fallback khi header/sidebar chưa set biến */
  --header-h:64px;
  --sidebar-w:256px;     /* sidebar mở */
  --sidebar-wc:80px;     /* sidebar thu gọn */

  /* Chart panel height */
  --panelH:360px;
}

*,*::before,*::after{ box-sizing:border-box }
html,body{ height:100% }
body{ min-height:100dvh; overflow:hidden; background:linear-gradient(180deg,#f8fafc,#fff 28%,#fff) }

/* ---- Main content: chỉ phần trang (không đụng header/sidebar) ---- */
#mainContent{
  position:relative; height:100dvh; overflow:auto;
  padding-top:calc(var(--header-h) + 16px);
  padding-left:calc(var(--sidebar-w) + 16px);
  padding-right:16px; padding-bottom:20px;
  transition: padding-left .3s var(--ease);
  background:linear-gradient(180deg,#f8fafc,#ffffff 28%,#ffffff);
}
#mainContent.main-content-collapsed{ padding-left:calc(var(--sidebar-wc) + 16px) }
/* Vô hiệu margin cũ nếu có */
.main-content{ margin:0 !important }

/* ---- Filters ---- */
.nv-filters{
  display:grid; grid-template-columns:1.2fr repeat(3,.9fr) auto; gap:12px;
  background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:12px;
  box-shadow:var(--shadow-1);
}
.nv-fi label{ display:block; font-size:.82rem; color:var(--muted); margin-bottom:6px; font-weight:700 }
.nv-ip{ width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:var(--radius-sm); outline:0; background:#fff }
.nv-ip:focus{ border-color:var(--blue-300); box-shadow:0 0 0 3px rgba(59,130,246,.15) }
.nv-ip.sm{ padding:8px 10px; border-radius:10px }
.nv-filter-actions{ display:flex; align-items:flex-end; gap:8px }
.nv-btn{ border:1px solid var(--border); background:#fff; padding:10px 14px; border-radius:var(--radius-sm); font-weight:700; cursor:pointer }
.nv-btn-primary{ color:#fff; border:none; padding:10px 14px; border-radius:var(--radius-sm); font-weight:800;
  background:linear-gradient(135deg,var(--blue-400),var(--green-400)); box-shadow:0 10px 18px -10px rgba(59,130,246,.45)
}

/* ---- KPI ---- */
.nv-kpis{ display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:12px; margin:12px 0 }
.nv-kpi{ background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:16px 14px; box-shadow:var(--shadow-1) }
.nv-kpi .nv-kpi-t{ color:#475569; font-weight:700; font-size:.9rem }
.nv-kpi .nv-kpi-n{ font-size:36px; line-height:1; font-weight:900; margin-top:6px; color:#0b1220 }
.nv-kpi.blue{ background:linear-gradient(180deg,#eef2ff,#fff) }
.nv-kpi.green{ background:linear-gradient(180deg,#e8fff3,#fff) }
.nv-kpi.amber{ background:linear-gradient(180deg,#fff5e6,#fff) }
.nv-kpi.purple{ background:linear-gradient(180deg,#f3f1ff,#fff) }

/* ---- Cards + Charts ---- */
.nv-grid{ display:grid; gap:12px }
.nv-grid.nv-2{ grid-template-columns:repeat(2,minmax(0,1fr)) }
.nv-grid.nv-4{ grid-template-columns:repeat(4,minmax(0,1fr)); margin-top:12px }
.nv-card{ background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:12px; box-shadow:var(--shadow-1); overflow:visible }
.nv-card.mini{ padding:10px }
.nv-card-h{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px }
.nv-card-t{ font-weight:800; color:var(--ink); display:flex; align-items:center; gap:8px; font-size:1rem }
.nv-card-t i{ color:#94a3b8 }

/* Chart full-height */
.nv-chart{ position:relative; min-height:220px }
.nv-chart.h320{ height:320px } .nv-chart.h340{ height:340px } .nv-chart.h220{ height:220px }
.nv-chart > canvas{ width:100% !important; height:100% !important; display:block }

/* ---- Tables ---- */
.nv-actions{ display:flex; align-items:center; gap:10px }
.nv-search{ position:relative }
.nv-search i{ position:absolute; left:12px; top:50%; transform:translateY(-50%); color:#94a3b8 }
.nv-search input{ width:260px; height:36px; padding:8px 12px 8px 36px; border:1px solid var(--border); border-radius:10px; outline:0 }

.nv-chip{ padding:.45rem .8rem; border-radius:999px; font-size:.82rem; font-weight:800; border:1px solid var(--border); background:#fff; cursor:pointer; display:inline-flex; gap:.45rem; align-items:center }
.nv-chip.blue{ background:#dbeafe; color:#1d4ed8; border-color:#c7d2fe }
.nv-chip.green{ background:#dcfce7; color:#16a34a; border-color:#bbf7d0 }

.nv-table-wrap{ max-height:420px; overflow:auto; border:1px solid var(--border); border-radius:14px }
.nv-table-wrap::-webkit-scrollbar{ width:8px; height:8px } .nv-table-wrap::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:8px }

.nv-tbl{ width:100%; border-collapse:separate; border-spacing:0 }
.nv-tbl thead th{ position:sticky; top:0; background:#f8fafc; border-bottom:1px solid var(--border); font-size:.72rem; text-transform:uppercase; color:var(--muted); letter-spacing:.5px; padding:.8rem 1rem; text-align:left }
.nv-tbl tbody td{ padding:.8rem 1rem; border-bottom:1px solid #f1f5f9; white-space:nowrap; color:#374151 }
.nv-cell-user{ display:flex; align-items:center; gap:12px }
.nv-badge{ width:32px; height:32px; border-radius:999px; display:grid; place-items:center; color:#fff; font-weight:800; font-size:.78rem }
.b-blue{ background-image:linear-gradient(135deg,#3E73FF,#18356E) }
.b-green{ background-image:linear-gradient(135deg,#17B890,#0c8b73) }
.b-purple{ background-image:linear-gradient(135deg,#8b5cf6,#ec4899) }
.nv-name{ font-weight:800 }
.nv-status{ padding:.2rem .55rem; border-radius:999px; font-size:.72rem; font-weight:800 }
.st-blue{ background:#dbeafe; color:#1d4ed8 } .st-yellow{ background:#fef3c7; color:#a16207 }
.st-green{ background:#dcfce7; color:#15803d } .st-gray{ background:#e5e7eb; color:#334155 } .st-red{ background:#fee2e2; color:#b91c1c }

/* ---- Modals ---- */
.nv-modal-backdrop{
  position:fixed; inset:0; display:none; align-items:center; justify-content:center;
  background:rgba(15,23,42,.35); z-index:1000; padding:16px
}
.nv-modal-backdrop.show{ display:flex }
.nv-modal{ width:min(720px,100%); background:#fff; border-radius:16px; border:1px solid var(--border); box-shadow:0 20px 48px rgba(2,6,23,.2); overflow:hidden }
.nv-modal-h{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border) }
.nv-modal-h h3{ margin:0; font-size:18px; font-weight:700; display:flex; align-items:center; gap:8px }
.nv-x{ width:36px; height:36px; border:none; border-radius:10px; background:#f1f5f9; cursor:pointer }
.nv-modal-b{ padding:14px 16px; display:grid; gap:10px }
.nv-field label{ display:block; font-weight:700; color:#374151; margin-bottom:6px }
.nv-check{ display:flex; align-items:center; gap:8px; font-weight:700; margin-top:6px }
.nv-modal-f{ padding:12px 16px; display:flex; gap:8px; justify-content:flex-end; border-top:1px solid var(--border) }

/* ---- Responsive ---- */
@media (max-width:1200px){
  .nv-grid.nv-4{ grid-template-columns:repeat(2,1fr) }
  :root{ --panelH:300px }
}
@media (max-width:900px){
  #mainContent{ padding-left:16px }
  .nv-filters{ grid-template-columns:1fr 1fr }
  .nv-kpis{ grid-template-columns:repeat(2,1fr) }
  .nv-grid.nv-2,.nv-grid.nv-4{ grid-template-columns:1fr }
  .nv-search input{ width:200px }
}
